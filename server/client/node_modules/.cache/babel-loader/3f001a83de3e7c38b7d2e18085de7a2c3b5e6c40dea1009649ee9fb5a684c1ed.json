{"ast":null,"code":"var _jsxFileName = \"/Users/varisharashid/Desktop/Scaler_Cab_System-master/server/client/src/components/AllBookings.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport Booking from './Booking';\nimport { useNavigate } from 'react-router';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction BookingList() {\n  _s();\n  const navigate = useNavigate();\n  const [bookings, setBookings] = useState([]);\n  useEffect(() => {\n    async function fetchBookings() {\n      try {\n        const response = await axios.get(`${process.env.REACT_APP_API_URL}/bookings`);\n        if (!response.statusText) {\n          throw new Error(`HTTP error! Status: ${response.status}`);\n        }\n        const data = await response.data;\n        setBookings(data);\n      } catch (error) {\n        console.log('Error fetching data:', {\n          error: error.message\n        });\n      }\n    }\n    fetchBookings();\n  }, []);\n  const handleEditBooking = bookingId => {\n    navigate(`/edit-booking/${bookingId}`);\n  };\n  const handleDeleteBooking = bookingId => {\n    axios.delete(`${process.env.REACT_APP_API_URL}/bookings/${bookingId}`).then(() => {\n      console.log('Booking successfully deleted!');\n      setBookings(prevBookings => prevBookings.filter(booking => booking._id !== bookingId));\n    }).catch(error => {\n      console.log('Error deleting booking', error);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-5xl flex flex-col mt-16 mb-16 mx-auto p-6 bg-white rounded shadow-md\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-3xl font-semibold mb-4\",\n      children: \"All Bookings\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }, this), bookings.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 md:grid-cols-2 gap-4\",\n      children: bookings.map(booking => /*#__PURE__*/_jsxDEV(Booking, {\n        booking: booking,\n        onEdit: handleEditBooking,\n        onDelete: handleDeleteBooking\n      }, booking._id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 25\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-600\",\n        children: \"No bookings available.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 25\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/addBooking\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"bg-blue-500 text-white rounded p-3 my-9\",\n          children: \"Add Booking\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 29\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 25\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 21\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 9\n  }, this);\n}\n_s(BookingList, \"IEUstBQbj2WVBLfCAIpl95WPTDM=\", false, function () {\n  return [useNavigate];\n});\n_c = BookingList;\nexport default BookingList;\nvar _c;\n$RefreshReg$(_c, \"BookingList\");","map":{"version":3,"names":["React","useEffect","useState","Link","Booking","useNavigate","axios","jsxDEV","_jsxDEV","BookingList","_s","navigate","bookings","setBookings","fetchBookings","response","get","process","env","REACT_APP_API_URL","statusText","Error","status","data","error","console","log","message","handleEditBooking","bookingId","handleDeleteBooking","delete","then","prevBookings","filter","booking","_id","catch","className","children","fileName","_jsxFileName","lineNumber","columnNumber","length","map","onEdit","onDelete","to","_c","$RefreshReg$"],"sources":["/Users/varisharashid/Desktop/Scaler_Cab_System-master/server/client/src/components/AllBookings.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport Booking from './Booking';\nimport { useNavigate } from 'react-router';\nimport axios from 'axios';\n\n\nfunction BookingList() {\n    const navigate = useNavigate();\n    const [bookings, setBookings] = useState([]);\n\n    useEffect(() => {\n        async function fetchBookings() {\n            try {\n                const response = await axios.get(`${process.env.REACT_APP_API_URL}/bookings`);\n\n                if (!response.statusText) {\n                    throw new Error(`HTTP error! Status: ${response.status}`);\n                }\n\n                const data = await response.data;\n                setBookings(data);\n\n            } catch (error) {\n                console.log('Error fetching data:', { error: error.message });\n            }\n        }\n\n        fetchBookings();\n\n    }, []);\n\n\n    const handleEditBooking = (bookingId) => {\n\n        navigate(`/edit-booking/${bookingId}`);\n    };\n\n    const handleDeleteBooking = (bookingId) => {\n\n        axios.delete(`${process.env.REACT_APP_API_URL}/bookings/${bookingId}`)\n            .then(() => {\n\n                console.log('Booking successfully deleted!');\n                setBookings((prevBookings) =>\n                    prevBookings.filter((booking) => booking._id !== bookingId)\n                );\n            })\n            .catch((error) => {\n                console.log('Error deleting booking', error);\n            });\n    };\n\n    return (\n        <div className=\"max-w-5xl flex flex-col mt-16 mb-16 mx-auto p-6 bg-white rounded shadow-md\">\n            <h1 className=\"text-3xl font-semibold mb-4\">All Bookings</h1>\n            {bookings.length > 0 ? (\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                    {bookings.map((booking) => (\n                        <Booking\n                            key={booking._id}\n                            booking={booking}\n                            onEdit={handleEditBooking}\n                            onDelete={handleDeleteBooking}\n                        />\n                    ))}\n                </div>\n\n            )\n                : (\n                    <div>\n                        <p className=\"text-gray-600\">No bookings available.</p>\n                        <Link to=\"/addBooking\">\n\n                            <button className=\"bg-blue-500 text-white rounded p-3 my-9\">\n                                Add Booking\n                            </button>\n                        </Link>\n                    </div>\n\n                )}\n        </div>\n    )\n}\n\nexport default BookingList;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}