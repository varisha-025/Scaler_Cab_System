{"ast":null,"code":"import _regeneratorRuntime from\"/Users/varisharashid/Desktop/Scaler_Cab_System-master/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/varisharashid/Desktop/Scaler_Cab_System-master/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/varisharashid/Desktop/Scaler_Cab_System-master/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import Cab from'./Cab';import axios from'axios';import{useNavigate}from'react-router';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function BookingForm(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),source=_useState2[0],setSource=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),destination=_useState4[0],setDestination=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),userEmail=_useState6[0],setUserEmail=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),availableCabs=_useState8[0],setAvailableCabs=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),shortestTime=_useState10[0],setShortestTime=_useState10[1];var _useState11=useState(''),_useState12=_slicedToArray(_useState11,2),selectedCabId=_useState12[0],setSelectedCabId=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),showAvailableCabs=_useState14[0],setShowAvailableCabs=_useState14[1];var _useState15=useState(null),_useState16=_slicedToArray(_useState15,2),cab=_useState16[0],setCabData=_useState16[1];var _useState17=useState(''),_useState18=_slicedToArray(_useState17,2),confirmationMessage=_useState18[0],setConfirmationMessage=_useState18[1];var _useState19=useState(''),_useState20=_slicedToArray(_useState19,2),errorMessage=_useState20[0],setErrorMessage=_useState20[1];var _useState21=useState(''),_useState22=_slicedToArray(_useState21,2),estimatedPrice=_useState22[0],setEstimatedPrice=_useState22[1];var _useState23=useState(new Date().getTime()),_useState24=_slicedToArray(_useState23,2),startTime=_useState24[0],setStartTime=_useState24[1];var navigate=useNavigate();var isFirstFormValid=function isFirstFormValid(){return userEmail.trim()!==''&&source.trim()!==''&&destination.trim()!==''&&startTime!==''&&source!==destination;};var fetchCabs=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"\".concat(process.env.REACT_APP_API_URL,\"/cabs\"),{params:{startTime:startTime}}).then(function(response){var filteredCabs=response.data;setAvailableCabs(filteredCabs);});case 3:_context.next=8;break;case 5:_context.prev=5;_context.t0=_context[\"catch\"](0);console.log('Error fetching cabs:',_context.t0);case 8:case\"end\":return _context.stop();}},_callee,null,[[0,5]]);}));return function fetchCabs(){return _ref.apply(this,arguments);};}();var showAvailableCabsFunc=function showAvailableCabsFunc(event){event.preventDefault();// Check if the form is valid before fetching cabs\nif(isFirstFormValid()){calculateShortestTimeEndPoint(source,destination);fetchCabs();if(source!==''&&destination!==''&&source===destination){console.log(\"Source and Destination are same\");setShowAvailableCabs(false);}setShowAvailableCabs(true);}};var handleCabSelection=function handleCabSelection(cab){setSelectedCabId(cab._id);setCabData(cab);setEstimatedPrice(shortestTime*(cab===null||cab===void 0?void 0:cab.price));};var calculateShortestTimeEndPoint=function calculateShortestTimeEndPoint(source,destination){axios.get(\"\".concat(process.env.REACT_APP_API_URL,\"/path/calculateShortestTime\"),{params:{source:source,destination:destination}}).then(function(response){if(response.data.hasOwnProperty('time')){setShortestTime(response.data.time);setErrorMessage('');}if(response.data.hasOwnProperty('error')){console.log('Error calculating shortest time',response);setErrorMessage(response.data.error);setShowAvailableCabs(false);}}).catch(function(error){setErrorMessage('Error calculating shortest time');console.log('Error calculating shortest time',error);setShowAvailableCabs(false);});};var handleSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(event){var bookingPrice,bookingData,response;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:event.preventDefault();bookingPrice=shortestTime*cab.price;bookingData={email:userEmail,source:source,destination:destination,cab:cab,startTime:startTime,bookingPrice:bookingPrice,estimatedTime:shortestTime};_context2.prev=3;_context2.next=6;return axios.post(\"\".concat(process.env.REACT_APP_API_URL,\"/bookings/addBooking\"),bookingData,{headers:{'Content-Type':'application/json'}});case 6:response=_context2.sent;console.log('Booking created successfully',response.data);setConfirmationMessage('Booking created successfully!');setErrorMessage('');// Clear input fields\nsetUserEmail('');setSource('');setDestination('');setStartTime('');setSelectedCabId('');setEstimatedPrice('');setShowAvailableCabs(false);_context2.next=24;break;case 19:_context2.prev=19;_context2.t0=_context2[\"catch\"](3);setErrorMessage('Could not create the booking! Please try again after sometime!');setConfirmationMessage('');console.log('Error creating booking',_context2.t0);case 24:navigate('/allBookings');case 25:case\"end\":return _context2.stop();}},_callee2,null,[[3,19]]);}));return function handleSubmit(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-lg mt-9 mx-auto p-6 bg-white rounded shadow-md\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-semibold mb-4\",children:\"Create Booking\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"userEmail\",className:\"block text-md mb-2 font-medium text-gray-600\",children:\"User Email:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",id:\"userEmail\",className:\"w-full p-2 border rounded-md\",value:userEmail,onChange:function onChange(e){return setUserEmail(e.target.value);},required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"source\",className:\"block text-md mb-2 font-medium text-gray-600\",children:\"Source:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"source\",className:\"w-full p-2 border rounded-md\",value:source,onChange:function onChange(e){return setSource(e.target.value);},required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"destination\",className:\"block text-md mb-2 font-medium text-gray-600\",children:\"Destination:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"destination\",className:\"w-full p-2 border rounded-md\",value:destination,onChange:function onChange(e){return setDestination(e.target.value);},required:true})]}),/*#__PURE__*/_jsx(\"button\",{onClick:showAvailableCabsFunc,className:\"\".concat(isFirstFormValid()?'bg-blue-500 text-white':'bg-gray-300 text-gray-600 cursor-not-allowed',\" rounded p-2 w-full font-semibold mb-4\"),disabled:!isFirstFormValid(),children:\"Show Available Cabs\"}),shortestTime&&shortestTime!==0&&source!==''&&destination!==''&&source!==destination&&/*#__PURE__*/_jsxs(\"p\",{className:\"text-lg font-semibold mb-4\",children:[\"Shortest Time: \",shortestTime,\" minutes\"]}),source!==''&&destination!==''&&source===destination&&/*#__PURE__*/_jsx(\"p\",{className:\"text-lg font-semibold mb-4\",children:\" Source and Destination are same!\"}),showAvailableCabs&&source!==''&&destination!==''&&source!==destination&&errorMessage===''&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-semibold mb-4\",children:\"Available Cabs\"}),/*#__PURE__*/_jsxs(\"ul\",{children:[availableCabs.length===0&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"No cabs available right now.\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Wait for a while.\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:availableCabs.map(function(cab){return/*#__PURE__*/_jsx(Cab,{name:cab.name,price:cab.price,isActive:cab._id===selectedCabId,onSelect:function onSelect(){return handleCabSelection(cab);}},cab._id);})})]}),estimatedPrice&&estimatedPrice!==''?/*#__PURE__*/_jsxs(\"p\",{className:\"text-lg font-semibold mb-4\",children:[\"Booking Price: \",estimatedPrice,\" rupees\"]}):/*#__PURE__*/_jsx(_Fragment,{}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"\".concat(selectedCabId?'bg-green-500 text-white':'bg-gray-300 text-gray-600 cursor-not-allowed',\" rounded p-2 w-full font-semibold mt-4\"),disabled:!selectedCabId,children:\"Create Booking\"})]}),confirmationMessage&&/*#__PURE__*/_jsx(\"div\",{className:\" text-xl text-green-500 font-semibold mt-3\",children:confirmationMessage}),errorMessage&&/*#__PURE__*/_jsx(\"div\",{className:\"text-xl text-red-500 font-semibold mt-3\",children:errorMessage})]})]});}export default BookingForm;","map":{"version":3,"names":["React","useState","Cab","axios","useNavigate","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","BookingForm","_useState","_useState2","_slicedToArray","source","setSource","_useState3","_useState4","destination","setDestination","_useState5","_useState6","userEmail","setUserEmail","_useState7","_useState8","availableCabs","setAvailableCabs","_useState9","_useState10","shortestTime","setShortestTime","_useState11","_useState12","selectedCabId","setSelectedCabId","_useState13","_useState14","showAvailableCabs","setShowAvailableCabs","_useState15","_useState16","cab","setCabData","_useState17","_useState18","confirmationMessage","setConfirmationMessage","_useState19","_useState20","errorMessage","setErrorMessage","_useState21","_useState22","estimatedPrice","setEstimatedPrice","_useState23","Date","getTime","_useState24","startTime","setStartTime","navigate","isFirstFormValid","trim","fetchCabs","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","get","concat","process","env","REACT_APP_API_URL","params","then","response","filteredCabs","data","t0","console","log","stop","apply","arguments","showAvailableCabsFunc","event","preventDefault","calculateShortestTimeEndPoint","handleCabSelection","_id","price","hasOwnProperty","time","error","catch","handleSubmit","_ref2","_callee2","bookingPrice","bookingData","_callee2$","_context2","email","estimatedTime","post","headers","sent","_x","className","children","onSubmit","htmlFor","type","id","value","onChange","e","target","required","onClick","disabled","length","map","name","isActive","onSelect"],"sources":["/Users/varisharashid/Desktop/Scaler_Cab_System-master/client/src/components/BookingForm.js"],"sourcesContent":["import React, { useState } from 'react';\nimport Cab from './Cab';\nimport axios from 'axios'\nimport { useNavigate } from 'react-router';\n\nfunction BookingForm() {\n    const [source, setSource] = useState('');\n    const [destination, setDestination] = useState('');\n    const [userEmail, setUserEmail] = useState('');\n    const [availableCabs, setAvailableCabs] = useState([]);\n    const [shortestTime, setShortestTime] = useState('');\n    const [selectedCabId, setSelectedCabId] = useState('');\n    const [showAvailableCabs, setShowAvailableCabs] = useState(false);\n    const [cab, setCabData] = useState(null);\n    const [confirmationMessage, setConfirmationMessage] = useState('');\n    const [errorMessage, setErrorMessage] = useState('');\n    const [estimatedPrice, setEstimatedPrice] = useState('');\n    const [startTime, setStartTime] = useState(new Date().getTime());\n    const navigate = useNavigate();\n\n    const isFirstFormValid = () => {\n        return userEmail.trim() !== '' && source.trim() !== '' && destination.trim() !== '' && startTime !== '' && source !== destination;\n    };\n\n    const fetchCabs = async () => {\n        try {\n            await axios.get(`${process.env.REACT_APP_API_URL}/cabs`, {\n                params: {\n                    startTime,\n                }\n            })\n                .then((response) => {\n                    const filteredCabs = response.data;\n                    setAvailableCabs(filteredCabs);\n                })\n\n        } catch (error) {\n            console.log('Error fetching cabs:', error);\n        }\n    }\n\n    const showAvailableCabsFunc = event => {\n        event.preventDefault();\n        // Check if the form is valid before fetching cabs\n        if (isFirstFormValid()) {\n            calculateShortestTimeEndPoint(source, destination);\n            fetchCabs();\n            if (source !== '' && destination !== '' && source === destination) {\n                console.log(\"Source and Destination are same\");\n                setShowAvailableCabs(false);\n            }\n\n            setShowAvailableCabs(true);\n\n        }\n    };\n\n    const handleCabSelection = (cab) => {\n\n        setSelectedCabId(cab._id);\n        setCabData(cab);\n        setEstimatedPrice(shortestTime * cab?.price)\n\n    };\n\n    const calculateShortestTimeEndPoint = (source, destination) => {\n\n        axios.get(`${process.env.REACT_APP_API_URL}/path/calculateShortestTime`, {\n            params: {\n                source,\n                destination,\n            }\n        })\n            .then(response => {\n\n                if (response.data.hasOwnProperty('time')) {\n\n                    setShortestTime(response.data.time);\n                    setErrorMessage('');\n                }\n\n                if (response.data.hasOwnProperty('error')) {\n                    console.log('Error calculating shortest time', response);\n                    setErrorMessage(response.data.error);\n                    setShowAvailableCabs(false);\n                }\n\n            })\n            .catch(error => {\n                setErrorMessage('Error calculating shortest time');\n                console.log('Error calculating shortest time', error);\n                setShowAvailableCabs(false);\n            });\n    };\n\n\n    const handleSubmit = async (event) => {\n        event.preventDefault();\n        const bookingPrice = shortestTime * cab.price;\n\n        const bookingData = {\n            email: userEmail,\n            source,\n            destination,\n            cab,\n            startTime,\n            bookingPrice,\n            estimatedTime: shortestTime,\n        };\n\n        try {\n            const response = await axios.post(`${process.env.REACT_APP_API_URL}/bookings/addBooking`, bookingData, {\n                headers: {\n                    'Content-Type': 'application/json',\n                },\n            });\n            console.log('Booking created successfully', response.data);\n            setConfirmationMessage('Booking created successfully!');\n            setErrorMessage('');\n\n             // Clear input fields\n             setUserEmail('');\n             setSource('');\n             setDestination('');\n             setStartTime('');\n             setSelectedCabId('');\n             setEstimatedPrice('');\n\n             setShowAvailableCabs(false);\n\n\n        }\n        catch (error) {\n            setErrorMessage('Could not create the booking! Please try again after sometime!');\n            setConfirmationMessage('');\n            console.log('Error creating booking', error);\n        }\n        navigate('/allBookings')\n    }\n\n    return (\n        <div className=\"max-w-lg mt-9 mx-auto p-6 bg-white rounded shadow-md\">\n            <h1 className=\"text-2xl font-semibold mb-4\">Create Booking</h1>\n            <form onSubmit={handleSubmit}>\n                <div className=\"mb-4\">\n                    <label htmlFor=\"userEmail\" className=\"block text-md mb-2 font-medium text-gray-600\">\n                        User Email:\n                    </label>\n                    <input\n                        type=\"email\"\n                        id=\"userEmail\"\n                        className=\"w-full p-2 border rounded-md\"\n                        value={userEmail}\n                        onChange={e => setUserEmail(e.target.value)}\n                        required\n                    />\n                </div>\n                <div className=\"mb-4\">\n                    <label htmlFor=\"source\" className=\"block text-md mb-2 font-medium text-gray-600\">\n                        Source:\n                    </label>\n                    <input\n                        type=\"text\"\n                        id=\"source\"\n                        className=\"w-full p-2 border rounded-md\"\n                        value={source}\n                        onChange={e => setSource(e.target.value)}\n                        required\n                    />\n                </div>\n                <div className=\"mb-4\">\n                    <label htmlFor=\"destination\" className=\"block text-md mb-2 font-medium text-gray-600\">\n                        Destination:\n                    </label>\n                    <input\n                        type=\"text\"\n                        id=\"destination\"\n                        className=\"w-full p-2 border rounded-md\"\n                        value={destination}\n                        onChange={e => setDestination(e.target.value)}\n                        required\n                    />\n                </div>\n              \n                <button\n                    onClick={showAvailableCabsFunc}\n                    className={`${isFirstFormValid() ? 'bg-blue-500 text-white' : 'bg-gray-300 text-gray-600 cursor-not-allowed'\n                        } rounded p-2 w-full font-semibold mb-4`}\n                    disabled={!isFirstFormValid()}\n                >\n                    Show Available Cabs\n                </button>\n\n                {shortestTime && shortestTime !== 0 && source !== '' && destination !== '' && source !== destination && (\n                    <p className=\"text-lg font-semibold mb-4\">Shortest Time: {shortestTime} minutes</p>\n                )}\n\n                {source !== '' && destination !== '' && source === destination && (\n                    <p className=\"text-lg font-semibold mb-4\"> Source and Destination are same!</p>\n                )}\n\n                {showAvailableCabs && source !== '' && destination !== '' && source !== destination && errorMessage === '' && (\n                    <div>\n                        <h2 className=\"text-2xl font-semibold mb-4\">Available Cabs</h2>\n                        <ul>\n                            {availableCabs.length === 0 && (\n                                <div>\n                                    <p>No cabs available right now.</p>\n                                    <p>Wait for a while.</p>\n                                </div>\n                            )}\n\n                            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                                {availableCabs.map((cab) => (\n                                    <Cab key={cab._id} name={cab.name} price={cab.price} isActive={cab._id === selectedCabId} onSelect={() => handleCabSelection(cab)} />\n                                ))}\n                            </div>\n                        </ul>\n\n\n                        {estimatedPrice && estimatedPrice !== '' ? (\n                            <p className=\"text-lg font-semibold mb-4\">Booking Price: {estimatedPrice} rupees</p>\n                        ) :\n                            <></>\n                        }\n\n                        <button\n                            type=\"submit\"\n                            className={`${selectedCabId ? 'bg-green-500 text-white' : 'bg-gray-300 text-gray-600 cursor-not-allowed'\n                                } rounded p-2 w-full font-semibold mt-4`}\n                            disabled={!selectedCabId}\n                        >\n                            Create Booking\n                        </button>\n                    </div>\n                )}\n                {confirmationMessage && (\n                    <div className=\" text-xl text-green-500 font-semibold mt-3\">{confirmationMessage}</div>\n                )}\n\n                {errorMessage && (\n                    <div className=\"text-xl text-red-500 font-semibold mt-3\">{errorMessage}</div>\n                )}\n            </form>\n        </div>\n    );\n}\n\nexport default BookingForm;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}